name: GitHub Metrics

on:
  schedule:
    - cron: '0 12 * * *'  # Runs every day at noon
  workflow_dispatch:

jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: lowlighter/metrics@latest
      with:
        # Your GitHub token
        token: ${{ secrets.METRICS_TOKEN }}
        # Enable isocalendar plugin
        plugin_isocalendar: 'yes'
        # Optional: Enable additional plugins or configure other settings
        # Save metrics output to file
        output: './README.md'
        # This example will commit back the generated README to your repository
        commit_message: 'Update metrics'
        committer_username: 'github-actions[bot]'
        committer_email: '41898282+github-actions[bot]@users.noreply.github.com'


#name: Full-year calendar
#on:
  # Schedule daily updates
  #schedule: [{cron: "0 0 * * *"}]
  # (optional) Run workflow manually
  #workflow_dispatch:
  # (optional) Run workflow when pushing on master/main
  #push: {branches: ["master", "main"]}
#jobs:
  #github-metrics:
    #runs-on: ubuntu-latest
    #environment: 
      #name: production
    #permissions:
      #contents: write
    #steps:
      #- uses: lowlighter/metrics@latest
        #with:
          #filename: metrics.plugin.isocalendar.fullyear.svg
          #token: ${{ secrets.METRICS_TOKEN }}
          #base: ""
          #plugin_isocalendar: yes
          #plugin_isocalendar_duration: full-year
