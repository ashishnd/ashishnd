name: GitHub Metrics

on:
  schedule:
    - cron: '0 12 * * *'  # Runs every day at noon
  workflow_dispatch:

jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: lowlighter/metrics@latest
      with:
        filename: metrics.plugin.isocalendar.svg
        # Your GitHub token
        token: ${{ secrets.METRICS_TOKEN }}
        # Enable isocalendar plugin
        plugin_isocalendar: 'yes'
        # Optional: Enable additional plugins or configure other settings
        # Save metrics output to file
        output: './README.md'
        # This example will commit back the generated README to your repository
        commit_message: 'Update metrics'
        committer_username: 'github-actions[bot]'
        committer_email: '41898282+github-actions[bot]@users.noreply.github.com'
